{{ ansible_managed | comment }}

# Set where Dispatcher JMS is present
dispatcher.ip.address=perun-rpc
dispatcher.port=6071
dispatcher.enabled={{ perun_dispatcher_enabled|bool|to_json }}

# Set internal Dispatcher identity
perun.principal.name=perunDispatcher
perun.principal.extSourceName=INTERNAL
perun.principal.extSourceType=cz.metacentrum.perun.core.impl.ExtSourceInternal

# number of hours before DONE tasks are propagated again
dispatcher.rescheduleInterval={{ perun_dispatcher_reschedule_interval }}

{% if perun_dispatcher_task_delay_time is defined %}
dispatcher.task.delay.time={{ perun_dispatcher_task_delay_time }}
{% endif %}
{% if perun_dispatcher_task_delay_count is defined %}
dispatcher.task.delay.count={{ perun_dispatcher_task_delay_count }}
{% endif %}
{% if perun_dispatcher_propagation_timeout is defined %}
dispatcher.task.delay.timeout={{ perun_dispatcher_propagation_timeout }}
{% endif %}
{% if perun_dispatcher_task_poll_wait is defined %}
dispatcher.task.poll.wait={{ perun_dispatcher_task_poll_wait }}
{% endif %}
{% if perun_dispatcher_task_reschedule is defined %}
dispatcher.task.reschedule={{ perun_dispatcher_task_reschedule }}
{% endif %}
